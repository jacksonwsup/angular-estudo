{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/jackson/Documents/2023/Estudo-Angular/angular-estudo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/pedido.service\";\nimport * as i2 from \"src/app/gateway/produto.gateway\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../pipes/money.pipe\";\nfunction ProdutosComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 4)(4, \"h5\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"money\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 5)(8, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ProdutosComponent_div_1_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const produto_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.adicionarItem(produto_r1.id));\n    });\n    i0.ɵɵtext(9, \"+\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ProdutosComponent_div_1_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const produto_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.removerItem(produto_r1));\n    });\n    i0.ɵɵtext(11, \"-\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const produto_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", produto_r1.nome, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 2, produto_r1.preco));\n  }\n}\nexport class ProdutosComponent {\n  constructor(pedidoService, produtoGateway) {\n    this.pedidoService = pedidoService;\n    this.produtoGateway = produtoGateway;\n    // public produtos: ProdutoModel[] = [\n    //   new ProdutoModel(1, \"Coca-cola 600ml\", 10),\n    //   new ProdutoModel(2, \"Coxinha de frango com catupiry\", 6),\n    //   new ProdutoModel(3, \"X-salada\", 25.5),\n    // ];\n    this.produtos = [];\n    this.getProdutos();\n  }\n  getProdutos() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.produtos.push(...(yield _this.produtoGateway.getProdutos()));\n    })();\n  }\n  adicionarItem(id) {\n    const produto = this.produtos.find(produto => produto.id === id);\n    if (produto) {\n      this.pedidoService.adicionarItem(produto);\n    }\n  }\n  removerItem(produto) {\n    this.pedidoService.removerItem(produto);\n  }\n}\n_class = ProdutosComponent;\n_class.ɵfac = function ProdutosComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.PedidoService), i0.ɵɵdirectiveInject(i2.ProdutoGateway));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-produtos\"]],\n  decls: 2,\n  vars: 1,\n  consts: [[1, \"flex\", \"flex-col\", \"p-2\"], [\"class\", \"flex items-center p-4 border border-slate-400 w-full\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"items-center\", \"p-4\", \"border\", \"border-slate-400\", \"w-full\"], [1, \"text-lg\", \"font-bold\"], [1, \"flex\", \"flex-grow\", \"justify-end\", \"px-4\", \"font-bold\"], [1, \"flex\", \"gap-2\"], [1, \"w-10\", \"h-10\", \"text-2xl\", \"font-bold\", \"text-white\", \"bg-blue-400\", \"hover:bg-blue-500\", \"shadow\", \"rounded-md\", 3, \"click\"]],\n  template: function ProdutosComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, ProdutosComponent_div_1_Template, 12, 4, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.produtos);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.MoneyPipe],\n  styles: [\"/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9kdXRvcy5jb21wb25lbnQuY3NzIn0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wcm9kdXRvcy9wcm9kdXRvcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxvS0FBb0siLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ProdutosComponent_div_1_Template_button_click_8_listener","restoredCtx","ɵɵrestoreView","_r3","produto_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","adicionarItem","id","ProdutosComponent_div_1_Template_button_click_10_listener","ctx_r4","removerItem","ɵɵadvance","ɵɵtextInterpolate1","nome","ɵɵtextInterpolate","ɵɵpipeBind1","preco","ProdutosComponent","constructor","pedidoService","produtoGateway","produtos","getProdutos","_this","_asyncToGenerator","push","produto","find","ɵɵdirectiveInject","i1","PedidoService","i2","ProdutoGateway","selectors","decls","vars","consts","template","ProdutosComponent_Template","rf","ctx","ɵɵtemplate","ProdutosComponent_div_1_Template","ɵɵproperty"],"sources":["C:\\Users\\jackson\\Documents\\2023\\Estudo-Angular\\angular-estudo\\src\\app\\components\\produtos\\produtos.component.ts","C:\\Users\\jackson\\Documents\\2023\\Estudo-Angular\\angular-estudo\\src\\app\\components\\produtos\\produtos.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { ProdutoGateway } from 'src/app/gateway/produto.gateway';\r\nimport { ProdutoModel } from 'src/app/model/produto.model';\r\nimport { PedidoService } from 'src/app/services/pedido.service';\r\n\r\n@Component({\r\n  selector: 'app-produtos',\r\n  templateUrl: './produtos.component.html',\r\n  styleUrls: ['./produtos.component.css']\r\n})\r\nexport class ProdutosComponent {\r\n\r\n  // public produtos: ProdutoModel[] = [\r\n  //   new ProdutoModel(1, \"Coca-cola 600ml\", 10),\r\n  //   new ProdutoModel(2, \"Coxinha de frango com catupiry\", 6),\r\n  //   new ProdutoModel(3, \"X-salada\", 25.5),\r\n  // ];\r\n\r\n  public produtos: ProdutoModel[] = [];\r\n\r\n  constructor(private pedidoService: PedidoService, private produtoGateway: ProdutoGateway) {\r\n    this.getProdutos();\r\n  }\r\n\r\n  async getProdutos(): Promise<void> {\r\n    this.produtos.push( ...await this.produtoGateway.getProdutos() );\r\n  }\r\n\r\n  adicionarItem(id: number) {\r\n    const produto: ProdutoModel | undefined = this.produtos.find( produto => produto.id === id);\r\n    if (produto) {\r\n      this.pedidoService.adicionarItem(produto);\r\n    }\r\n  }\r\n\r\n  removerItem(produto: ProdutoModel) {\r\n    this.pedidoService.removerItem(produto);\r\n  }\r\n\r\n}\r\n","<div class=\"flex flex-col p-2\">\r\n    <div class=\"flex items-center p-4 border border-slate-400 w-full\" *ngFor=\"let produto of produtos\">\r\n        <div class=\"text-lg font-bold\">\r\n            {{ produto.nome }}\r\n        </div>\r\n        <div class=\"flex flex-grow justify-end px-4 font-bold\">\r\n            <h5>{{ produto.preco | money }}</h5>\r\n        </div>\r\n        <div class=\"flex gap-2\">\r\n            <button (click)=\"adicionarItem(produto.id)\" class=\"w-10 h-10 text-2xl font-bold text-white bg-blue-400 hover:bg-blue-500 shadow rounded-md\">+</button>\r\n            <button (click)=\"removerItem(produto)\" class=\"w-10 h-10 text-2xl font-bold text-white bg-blue-400 hover:bg-blue-500 shadow rounded-md\">-</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}